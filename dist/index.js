!function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Libmon=void 0;var e=require("tslib"),t=e.__importDefault(require("axios")),i=!1,n={},o="",r=function(){function r(){}return r.initialize=function(e,t){o=e},r.validate=function(n){return e.__awaiter(this,void 0,void 0,(function(){var r;return e.__generator(this,(function(e){switch(e.label){case 0:if(e.trys.push([0,2,,3]),!o)throw new Error("Libmon: No library name was provided when initializing");return[4,t.default.get("https://pvxtcvzp9a.execute-api.us-east-1.amazonaws.com/dev/\\validate",{headers:{token:n,lib:o}})];case 1:return 200===(r=e.sent()).status&&(i=!0),204===r.status&&(i=!1),[3,3];case 2:return e.sent(),console.log("Libmon Server failed to give proper response. Authorizing..."),i=!0,[3,3];case 3:return[2,i]}}))}))},r.disable=function(){if(!i)throw new Error("LibMon: This function is not available. Please purchase a valid token to improve reliability at libmon.com\\"+o+".")},r.crash=function(){if(!i)throw new Error("LibMon: This crash was done intentionally. Please purchase a library token to improve reliability and performance at libmon.com\\lib\\"+o)},r.setupCounter=function(e,t){n[e]={count:0,max:t}},r.increment=function(e){this.doesCounterExist(e);var t=n[e].count;n[e].count=t+1,this.validateCounter(e)},r.decrement=function(e){r.doesCounterExist(e);var t=n[e].count;n[e].count=t-1,this.validateCounter(e)},r.doesCounterExist=function(e){if(!n[e])throw new Error("LibMon: Counter: "+e+" was not setup. Please use the setupCounter method to validate")},r.validateCounter=function(e){if(!i){var t=n[e],o=t.max;if(t.count>o)throw new Error("LibMon: Counter: "+e+" limit exceeded. Please restart the program to reset the limit.")}},r}();exports.Libmon=r}();
